{
  "formatVersion": 1,
  "database": {
    "version": 1,
    "identityHash": "8378b8e8b86bbc5470e1cb1966e34182",
    "entities": [
      {
        "tableName": "messages",
        "createSql": "CREATE TABLE IF NOT EXISTS `${TABLE_NAME}` (`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, `conversationId` INTEGER NOT NULL, `body` TEXT NOT NULL, `timestamp` INTEGER NOT NULL, `direction` TEXT NOT NULL, `status` TEXT NOT NULL, `origin` TEXT NOT NULL, `matrixEventId` TEXT, `matrixSourceEventId` TEXT, `sentTimestamp` INTEGER, `deliveredTimestamp` INTEGER, `failureReason` TEXT, `retryCount` INTEGER NOT NULL, `systemSmsId` INTEGER, `subscriptionId` INTEGER NOT NULL, FOREIGN KEY(`conversationId`) REFERENCES `conversations`(`id`) ON UPDATE NO ACTION ON DELETE CASCADE )",
        "fields": [
          {
            "fieldPath": "id",
            "columnName": "id",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "conversationId",
            "columnName": "conversationId",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "body",
            "columnName": "body",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "timestamp",
            "columnName": "timestamp",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "direction",
            "columnName": "direction",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "status",
            "columnName": "status",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "origin",
            "columnName": "origin",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "matrixEventId",
            "columnName": "matrixEventId",
            "affinity": "TEXT"
          },
          {
            "fieldPath": "matrixSourceEventId",
            "columnName": "matrixSourceEventId",
            "affinity": "TEXT"
          },
          {
            "fieldPath": "sentTimestamp",
            "columnName": "sentTimestamp",
            "affinity": "INTEGER"
          },
          {
            "fieldPath": "deliveredTimestamp",
            "columnName": "deliveredTimestamp",
            "affinity": "INTEGER"
          },
          {
            "fieldPath": "failureReason",
            "columnName": "failureReason",
            "affinity": "TEXT"
          },
          {
            "fieldPath": "retryCount",
            "columnName": "retryCount",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "systemSmsId",
            "columnName": "systemSmsId",
            "affinity": "INTEGER"
          },
          {
            "fieldPath": "subscriptionId",
            "columnName": "subscriptionId",
            "affinity": "INTEGER",
            "notNull": true
          }
        ],
        "primaryKey": {
          "autoGenerate": true,
          "columnNames": [
            "id"
          ]
        },
        "indices": [
          {
            "name": "index_messages_conversationId",
            "unique": false,
            "columnNames": [
              "conversationId"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `index_messages_conversationId` ON `${TABLE_NAME}` (`conversationId`)"
          },
          {
            "name": "index_messages_timestamp",
            "unique": false,
            "columnNames": [
              "timestamp"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `index_messages_timestamp` ON `${TABLE_NAME}` (`timestamp`)"
          },
          {
            "name": "index_messages_status",
            "unique": false,
            "columnNames": [
              "status"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `index_messages_status` ON `${TABLE_NAME}` (`status`)"
          },
          {
            "name": "index_messages_matrixEventId",
            "unique": false,
            "columnNames": [
              "matrixEventId"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `index_messages_matrixEventId` ON `${TABLE_NAME}` (`matrixEventId`)"
          }
        ],
        "foreignKeys": [
          {
            "table": "conversations",
            "onDelete": "CASCADE",
            "onUpdate": "NO ACTION",
            "columns": [
              "conversationId"
            ],
            "referencedColumns": [
              "id"
            ]
          }
        ]
      },
      {
        "tableName": "conversations",
        "createSql": "CREATE TABLE IF NOT EXISTS `${TABLE_NAME}` (`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, `phoneNumber` TEXT NOT NULL, `subscriptionId` INTEGER NOT NULL, `matrixRoomId` TEXT, `displayName` TEXT, `lastMessageTimestamp` INTEGER NOT NULL, `lastMessagePreview` TEXT, `unreadCount` INTEGER NOT NULL, `isArchived` INTEGER NOT NULL, `isMuted` INTEGER NOT NULL, `muteMatrixEcho` INTEGER NOT NULL, `syncDirection` TEXT NOT NULL, `hasDeliveryError` INTEGER NOT NULL, `createdAt` INTEGER NOT NULL)",
        "fields": [
          {
            "fieldPath": "id",
            "columnName": "id",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "phoneNumber",
            "columnName": "phoneNumber",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "subscriptionId",
            "columnName": "subscriptionId",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "matrixRoomId",
            "columnName": "matrixRoomId",
            "affinity": "TEXT"
          },
          {
            "fieldPath": "displayName",
            "columnName": "displayName",
            "affinity": "TEXT"
          },
          {
            "fieldPath": "lastMessageTimestamp",
            "columnName": "lastMessageTimestamp",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "lastMessagePreview",
            "columnName": "lastMessagePreview",
            "affinity": "TEXT"
          },
          {
            "fieldPath": "unreadCount",
            "columnName": "unreadCount",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "isArchived",
            "columnName": "isArchived",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "isMuted",
            "columnName": "isMuted",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "muteMatrixEcho",
            "columnName": "muteMatrixEcho",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "syncDirection",
            "columnName": "syncDirection",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "hasDeliveryError",
            "columnName": "hasDeliveryError",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "createdAt",
            "columnName": "createdAt",
            "affinity": "INTEGER",
            "notNull": true
          }
        ],
        "primaryKey": {
          "autoGenerate": true,
          "columnNames": [
            "id"
          ]
        },
        "indices": [
          {
            "name": "index_conversations_phoneNumber",
            "unique": true,
            "columnNames": [
              "phoneNumber"
            ],
            "orders": [],
            "createSql": "CREATE UNIQUE INDEX IF NOT EXISTS `index_conversations_phoneNumber` ON `${TABLE_NAME}` (`phoneNumber`)"
          },
          {
            "name": "index_conversations_matrixRoomId",
            "unique": false,
            "columnNames": [
              "matrixRoomId"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `index_conversations_matrixRoomId` ON `${TABLE_NAME}` (`matrixRoomId`)"
          },
          {
            "name": "index_conversations_lastMessageTimestamp",
            "unique": false,
            "columnNames": [
              "lastMessageTimestamp"
            ],
            "orders": [],
            "createSql": "CREATE INDEX IF NOT EXISTS `index_conversations_lastMessageTimestamp` ON `${TABLE_NAME}` (`lastMessageTimestamp`)"
          }
        ]
      }
    ],
    "setupQueries": [
      "CREATE TABLE IF NOT EXISTS room_master_table (id INTEGER PRIMARY KEY,identity_hash TEXT)",
      "INSERT OR REPLACE INTO room_master_table (id,identity_hash) VALUES(42, '8378b8e8b86bbc5470e1cb1966e34182')"
    ]
  }
}