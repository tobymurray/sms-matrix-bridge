<?xml version="1.0" encoding="utf-8"?>
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:padding="16dp">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical">

        <!-- Title -->
        <TextView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="SMS Matrix Bridge"
            android:textSize="24sp"
            android:textStyle="bold"
            android:layout_marginBottom="16dp" />

        <!-- Status Section -->
        <TextView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="Status"
            android:textSize="18sp"
            android:textStyle="bold"
            android:layout_marginTop="8dp" />

        <TextView
            android:id="@+id/statusText"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="Loading..."
            android:fontFamily="monospace"
            android:textSize="14sp"
            android:background="?attr/colorSurfaceVariant"
            android:textColor="?attr/colorOnSurfaceVariant"
            android:padding="12dp"
            android:layout_marginTop="4dp"
            android:layout_marginBottom="16dp" />

        <!-- Matrix Configuration Section -->
        <TextView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="Matrix Configuration"
            android:textSize="18sp"
            android:textStyle="bold"
            android:layout_marginTop="8dp" />

        <com.google.android.material.textfield.TextInputLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:hint="Homeserver URL"
            style="@style/Widget.Material3.TextInputLayout.OutlinedBox"
            android:layout_marginTop="8dp">

            <com.google.android.material.textfield.TextInputEditText
                android:id="@+id/homeserverInput"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:inputType="textUri"
                android:text="https://matrix.example.com" />

        </com.google.android.material.textfield.TextInputLayout>

        <com.google.android.material.textfield.TextInputLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:hint="User ID"
            style="@style/Widget.Material3.TextInputLayout.OutlinedBox"
            android:layout_marginTop="8dp">

            <com.google.android.material.textfield.TextInputEditText
                android:id="@+id/userIdInput"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:inputType="text"
                android:text="@smsbridge:example.com" />

        </com.google.android.material.textfield.TextInputLayout>

        <com.google.android.material.textfield.TextInputLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:hint="Access Token"
            style="@style/Widget.Material3.TextInputLayout.OutlinedBox"
            android:layout_marginTop="8dp">

            <com.google.android.material.textfield.TextInputEditText
                android:id="@+id/tokenInput"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:inputType="textPassword" />

        </com.google.android.material.textfield.TextInputLayout>

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:layout_marginTop="16dp">

            <com.google.android.material.button.MaterialButton
                android:id="@+id/saveConfigButton"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:text="Save Config"
                android:layout_marginEnd="4dp" />

            <com.google.android.material.button.MaterialButton
                android:id="@+id/testConnectionButton"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:text="Test Connection"
                style="@style/Widget.Material3.Button.TonalButton"
                android:layout_marginStart="4dp" />

        </LinearLayout>

        <!-- SMS Role Section -->
        <com.google.android.material.button.MaterialButton
            android:id="@+id/requestSmsRoleButton"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="Set as Default SMS App"
            style="@style/Widget.Material3.Button.OutlinedButton"
            android:layout_marginTop="16dp" />

        <!-- Effective SMS App Section -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:layout_marginTop="8dp">

            <com.google.android.material.button.MaterialButton
                android:id="@+id/openSmsAppButton"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:text="Open SMS App"
                style="@style/Widget.Material3.Button.TonalButton"
                android:visibility="gone"
                android:layout_marginEnd="4dp" />

            <com.google.android.material.button.MaterialButton
                android:id="@+id/selectSmsAppButton"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:text="Select SMS App"
                style="@style/Widget.Material3.Button.OutlinedButton"
                android:visibility="gone"
                android:layout_marginStart="4dp" />

        </LinearLayout>

        <!-- Bridge Control -->
        <com.google.android.material.button.MaterialButton
            android:id="@+id/toggleBridgeButton"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="Start Bridge"
            android:layout_marginTop="16dp"
            android:textSize="18sp" />

        <!-- Info Text -->
        <TextView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="How it works: This app becomes the default SMS app but forwards all messages to your existing SMS app. Your normal messaging experience remains unchanged while SMS conversations are also bridged to Matrix."
            android:textSize="12sp"
            android:textColor="?attr/colorOnSurfaceVariant"
            android:layout_marginTop="16dp" />

    </LinearLayout>

</ScrollView>
